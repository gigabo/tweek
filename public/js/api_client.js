// Generated by CoffeeScript 1.8.0
(function() {
  var api_go, init_controls;

  init_controls = function() {
    $("#play_container").append("<input type='text' spellcheck='false' id='api_query'>");
    $("#play_container").append("<input id='api_go' type='button' value='Go'>");
    $("#play_container").append("<pre id='api_result'></pre>");
    $("#api_go").click(api_go);
    $("#api_query").width("90%");
    $("#api_query").focus();
    return $("#api_query").keydown((function(_this) {
      return function(evt) {
        if (evt.keyCode === 13) {
          return api_go();
        }
      };
    })(this));
  };

  api_go = function() {
    var query;
    query = $("#api_query").val();
    return $.getJSON("/api/json/" + query, (function(_this) {
      return function(res) {
        var dump;
        dump = $.dump(res);
        $("#api_result").empty();
        if (dump.length) {
          return $("#api_result").append("" + dump + "\n");
        } else {
          return $("#api_result").append("No response.\n");
        }
      };
    })(this));
  };

  $(document).ready((function(_this) {
    return function() {
      $("#play_canvas").remove();
      return $.getScript("/js/jquery.tweekdump.js", init_controls);
    };
  })(this));

}).call(this);
